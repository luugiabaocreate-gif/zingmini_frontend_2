<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ZingMini Classic - Trang ch·ªß</title>

    <link rel="stylesheet" href="style.css" />
    <!-- th√™m 1 ch√∫t font v√† icons -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>

    <!-- TH√äM CSS NH·ªé CHO HI·ªÜU ·ª®NG (kh√¥ng thay style.css c·ªßa b·∫°n) -->
    <style>
      /* Glow, badge, animations th√™m cho ZingMe vibe */
      .topbar .notif {
        position: relative;
        margin-left: 12px;
        cursor: pointer;
      }
      .notif .badge {
        position: absolute;
        top: -6px;
        right: -8px;
        background: linear-gradient(90deg, #ff5fa3, #a58cff);
        color: white;
        font-size: 11px;
        padding: 2px 6px;
        border-radius: 999px;
        box-shadow: 0 4px 12px rgba(165, 140, 255, 0.2);
        transform: translateY(-2px);
      }

      /* Sidebar dynamic */
      .leftcol .profile-card {
        transition: transform 0.25s ease, box-shadow 0.25s ease;
      }
      .leftcol .profile-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
      }

      /* Post hover sparkle */
      .post:hover {
        box-shadow: 0 10px 30px rgba(165, 140, 255, 0.08);
        border-left: 4px solid #a58cff;
      }

      /* Post action buttons */
      .post-actions {
        display: flex;
        gap: 8px;
        margin-top: 8px;
        align-items: center;
      }
      .action-btn {
        background: transparent;
        border: none;
        cursor: pointer;
        font-weight: 600;
        padding: 6px 8px;
        border-radius: 8px;
      }
      .action-btn:hover {
        background: rgba(165, 140, 255, 0.06);
      }

      /* Comment box */
      .comments {
        margin-top: 8px;
        padding-left: 8px;
      }
      .comment {
        background: rgba(0, 0, 0, 0.03);
        padding: 6px 8px;
        border-radius: 8px;
        margin-bottom: 6px;
      }

      /* Chat bubble upgraded (popup) */
      .chat-popup {
        position: fixed;
        right: 20px;
        bottom: 20px;
        width: 360px;
        max-width: 94%;
        background: linear-gradient(180deg, #ffffff, #fbf8ff);
        border-radius: 14px;
        box-shadow: 0 10px 40px rgba(94, 66, 255, 0.12);
        overflow: hidden;
        display: flex;
        flex-direction: column;
        z-index: 9999;
        transform: translateY(20px);
        animation: popup 0.35s ease forwards;
      }
      @keyframes popup {
        to {
          transform: translateY(0);
        }
      }

      .chat-popup .title {
        background: linear-gradient(90deg, #6ea8ff, #a58cff);
        color: white;
        padding: 10px 12px;
        font-weight: 700;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .chat-popup .messages {
        height: 260px;
        overflow-y: auto;
        padding: 12px;
        background: linear-gradient(180deg, #fbfbff, #ffffff);
      }
      .chat-popup .controls {
        display: flex;
        gap: 8px;
        padding: 10px;
        border-top: 1px solid rgba(0, 0, 0, 0.04);
      }
      .toast {
        position: fixed;
        right: 24px;
        top: 24px;
        background: linear-gradient(90deg, #ff99c8, #a58cff);
        color: white;
        padding: 10px 14px;
        border-radius: 12px;
        box-shadow: 0 12px 40px rgba(165, 140, 255, 0.18);
        z-index: 99999;
        transform: translateY(-10px);
        animation: toastIn 0.35s ease forwards;
      }
      @keyframes toastIn {
        to {
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body>
    <header class="topbar">
      <div class="logo">üåà ZingMini Classic</div>
      <div class="nav">
        <button class="nav-btn active">Trang ch·ªß</button>
        <div class="notif" id="notifBtn" title="Th√¥ng b√°o">
          üîî
          <span class="badge" id="notifBadge" style="display: none">0</span>
        </div>
        <button class="nav-btn" onclick="logout()">ƒêƒÉng xu·∫•t</button>
      </div>
    </header>

    <div class="container">
      <!-- LEFT COLUMN -->
      <aside class="leftcol">
        <div class="card profile-card" id="profileCard">
          <img id="profileAvatar" class="avatar-large" src="" alt="Avatar" />
          <h3 id="profileName">Ng∆∞·ªùi d√πng</h3>
          <button class="btn small" id="editProfileBtn">S·ª≠a th√¥ng tin</button>
        </div>

        <div class="card">
          <h3>üü¢ Ai ƒëang online</h3>
          <ul class="friends-list" id="friendsList"></ul>
        </div>

        <div class="card">
          <h3>üì∏ Story</h3>
          <div class="stories" id="storyBox"></div>
        </div>
      </aside>

      <!-- MIDDLE COLUMN -->
      <main class="feedcol">
        <div class="card status-card">
          <textarea id="statusInput" placeholder="ƒêang nghƒ© g√¨ th·∫ø?"></textarea>
          <input type="file" id="imageInput" accept="image/*" />
          <button class="btn primary" onclick="createPost()">ƒêƒÉng b√†i</button>
        </div>

        <div class="card feed" id="feed"></div>
      </main>

      <!-- RIGHT COLUMN -->
      <aside class="rightcol">
        <div class="card">
          <h3>üë• G·ª£i √Ω k·∫øt b·∫°n</h3>
          <div id="suggestBox" class="suggest-list"></div>
        </div>

        <div class="card">
          <h3>üéÆ Game</h3>
          <div id="gameList" class="game-list"></div>
        </div>
      </aside>
    </div>

    <!-- CHAT POPUP (start hidden, rendered by JS) -->
    <div id="chatContainer"></div>

    <!-- PROFILE MODAL -->
    <div id="profileModal" style="display: none">
      <!-- minimal modal, styled by style.css - you'll keep that file -->
      <div
        class="card"
        style="
          position: fixed;
          left: 50%;
          top: 50%;
          transform: translate(-50%, -50%);
          z-index: 99999;
          width: 360px;
        "
      >
        <h3>Trang c√° nh√¢n</h3>
        <div id="profileDetails"></div>
        <button onclick="closeProfile()">ƒê√≥ng</button>
      </div>
    </div>

    <!-- TOAST WRAPPER -->
    <div id="toastWrapper"></div>

    <script src="script_home_pro.js"></script>
  </body>
</html>
